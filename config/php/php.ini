; PHP 配置檔案 - WordPress 優化配置

; 記憶體限制
memory_limit = 256M

; 上傳檔案大小限制
upload_max_filesize = 64M
post_max_size = 64M

; 執行時間限制
max_execution_time = 300
max_input_time = 300

; 錯誤報告（生產環境應關閉）
display_errors = Off
display_startup_errors = Off
log_errors = On
error_log = /var/log/php_errors.log

; 時區設定
date.timezone = Asia/Taipei

; 會話配置（安全）
session.cookie_httponly = 1
session.cookie_secure = 0  ; 生產環境應設為 1（需要 HTTPS）
session.use_strict_mode = 1
session.cookie_samesite = "Strict"
session.gc_maxlifetime = 3600

; 安全配置
; 禁用危險函數（在 php-fpm.conf 中配置更靈活）
; disable_functions = exec,passthru,shell_exec,system,proc_open,popen

; 檔案上傳安全
file_uploads = On
upload_tmp_dir = /tmp

; OPcache 配置（PHP 8.2 內建）
opcache.enable = 1
opcache.memory_consumption = 128
opcache.interned_strings_buffer = 8
opcache.max_accelerated_files = 10000
opcache.revalidate_freq = 2
opcache.fast_shutdown = 1

; 其他配置
default_charset = "UTF-8"
mbstring.func_overload = 0
